<div class="admin-lesson-editor">
    <h2>Editor de lección</h2>
  
    <form [formGroup]="lessonForm" (ngSubmit)="save()">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Título</mat-label>
        <input matInput formControlName="title" />
      </mat-form-field>
  
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Descripción</mat-label>
        <textarea matInput rows="3" formControlName="description"></textarea>
      </mat-form-field>
  
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>URL de imagen</mat-label>
        <input matInput formControlName="image" />
      </mat-form-field>
  
      <div class="preview-img" *ngIf="lessonForm.value.image">
        <img [src]="lessonForm.value.image" alt="Preview" />
      </div>

      <div class="save-btn">
        <button mat-raised-button color="primary" type="submit">Guardar lección</button>
      </div>
      
      <h3>Teoría</h3>
      <div *ngIf='lessonForm.value.theoryId !== ""; else noTheory'>
        <!--<button mat-stroked-button color="primary" (click)="openTheoryEditor()">Editar teoría</button>-->
        <button mat-stroked-button color="warn" (click)="deleteTheory()">Eliminar teoría</button>
      </div>
      <ng-template #noTheory>
        <button mat-raised-button color="accent" (click)="openTheoryEditor()">Crear teoría</button>
      </ng-template>

      <h3>Práctica</h3>
      <div *ngIf='lessonForm.value.practiceId !== ""; else noPractice'>
        <!--<button mat-stroked-button color="primary" (click)="openPracticeEditor()">
          Editar práctica
        </button>-->
        <button mat-stroked-button color="warn" (click)="deletePractice()">
          Eliminar práctica
        </button>
      </div>
      <ng-template #noPractice>
        <button mat-raised-button color="primary" (click)="openPracticeEditor()">
          Crear práctica
        </button>
      </ng-template>
      
      
    </form>
  </div>